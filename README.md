# Python 一键打包工具

一个简单易用的Python脚本打包工具，支持在线版和本地版两种使用方式，可以将Python脚本快速转换为可执行文件（.exe）。

## 🚀 功能特性

### 在线版 (Web应用)
- 🌐 **Web界面**: 基于Flask的现代化Web界面
- 📁 **单文件打包**: 支持单个Python文件打包
- 📦 **项目打包**: 支持多文件Python项目打包（ZIP格式）
- 🎨 **图标支持**: 支持自定义ICO图标文件
- 📂 **资源文件夹**: 支持添加资源文件夹到打包文件
- ⚙️ **灵活配置**: 支持多种PyInstaller参数配置
- 📊 **实时进度**: 实时显示打包进度和日志
- 📥 **一键下载**: 打包完成后直接下载ZIP文件

### 本地版 (桌面应用)
- 🖥️ **桌面界面**: 基于Tkinter的本地桌面应用
- 🎯 **简单易用**: 直观的图形界面操作
- 🔧 **完整功能**: 包含所有在线版功能
- 🚀 **离线使用**: 无需网络连接即可使用

## 📋 系统要求

- Python 3.7+
- Windows 操作系统
- PyInstaller (会自动提示安装)

## 🛠️ 安装说明

### 1. 克隆或下载项目
```bash
git clone <repository-url>
cd Py一键打包（在线版）
```

### 2. 安装依赖
```bash
pip install -r requirements.txt
```

### 3. 安装PyInstaller (必需)
```bash
pip install pyinstaller
```

## 🚀 使用方法

### 在线版使用

1. **启动Web服务**
   ```bash
   python app.py
   ```

2. **访问应用**
   打开浏览器访问 `http://localhost:5000`

3. **选择打包类型**
   - **单文件打包**: 上传单个Python文件
   - **项目打包**: 上传包含多个Python文件的ZIP压缩包

4. **配置选项**
   - 选择资源文件夹（可选）
   - 上传图标文件（可选，仅支持ICO格式）
   - 设置输出目录（可选）
   - 配置打包选项：
     - ✅ 单文件模式 (--onefile)
     - ✅ 无控制台模式 (--windowed)
     - ✅ 清理临时文件 (--clean)

5. **开始打包**
   点击"开始打包"按钮，系统会：
   - 验证文件格式
   - 检查PyInstaller安装
   - 执行打包过程
   - 显示实时进度和日志
   - 生成可下载的ZIP文件

### 本地版使用

1. **运行本地应用**
   ```bash
   python "Py一键打包（本地版）.py"
   ```

2. **选择Python文件**
   点击"浏览文件"选择要打包的Python文件

3. **配置选项**（可选）
   - 选择资源文件夹
   - 选择图标文件
   - 设置输出目录
   - 配置打包参数

4. **开始打包**
   点击"开始打包"按钮，等待完成

## 📁 项目结构

```
Py一键打包（在线版）/
├── app.py                          # Flask Web应用主文件
├── Py一键打包（本地版）.py          # 本地桌面应用
├── requirements.txt                # Python依赖包列表
├── templates/
│   └── index.html                  # Web界面模板
└── README.md                       # 项目说明文档
```

## ⚙️ 配置选项说明

### PyInstaller参数
- **--onefile**: 将所有依赖打包成单个可执行文件
- **--windowed**: 运行时不显示控制台窗口
- **--clean**: 打包前清理临时文件
- **--add-data**: 添加额外的数据文件或文件夹
- **--icon**: 设置应用程序图标

### 支持的文件格式
- **Python文件**: `.py`
- **图标文件**: `.ico`
- **项目文件**: `.zip` (包含多个Python文件的项目)

## 🔧 高级功能

### 图标验证
- 自动验证ICO文件格式
- 检查图标尺寸完整性
- 支持多尺寸图标文件

### 项目自动识别
- 自动查找项目主入口文件
- 支持常见入口文件名：`main.py`, `app.py`, `run.py`, `start.py`, `__main__.py`
- 智能识别包含 `if __name__ == '__main__'` 的文件

### 实时日志
- 显示PyInstaller执行过程
- 实时进度更新
- 错误信息详细提示

## 🐛 常见问题

### Q: 打包失败怎么办？
A: 请检查：
1. 是否已安装PyInstaller (`pip install pyinstaller`)
2. Python文件是否有语法错误
3. 是否包含所有必要的依赖包

### Q: 生成的EXE文件很大？
A: 这是正常现象，因为PyInstaller会将Python解释器和所有依赖打包进去。可以尝试：
1. 使用 `--onefile` 选项生成单个文件
2. 检查是否包含了不必要的依赖

### Q: 图标文件不显示？
A: 请确保：
1. 图标文件格式为ICO
2. 图标文件包含常用尺寸（16x16, 32x32, 48x48, 256x256）
3. 图标文件路径正确

### Q: 资源文件找不到？
A: 请确保：
1. 资源文件夹路径正确
2. 资源文件在Python代码中的引用路径正确
3. 使用相对路径引用资源文件

## 📝 更新日志

### v1.0.0
- 初始版本发布
- 支持单文件打包
- 支持项目打包
- 支持自定义图标
- 支持资源文件夹
- Web界面和本地界面

## 🤝 贡献

欢迎提交Issue和Pull Request来改进这个项目！

## 📄 许可证

本项目采用MIT许可证，详见LICENSE文件。

## 📞 联系方式

如有问题或建议，请通过以下方式联系：
- 提交GitHub Issue
- 发送邮件至：[3083248889@qq.com]

---

**注意**: 本工具仅支持Windows操作系统，生成的EXE文件也只能在Windows上运行。 
